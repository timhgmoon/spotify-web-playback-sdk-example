(this["webpackJsonpweb-playback-sdk-sample-app"]=this["webpackJsonpweb-playback-sdk-sample-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(18),r=n.n(a),i=n(2),j=n(39),o=n.n(j),l=n(48),u=n(7),h=n(8),b=(n(67),n(68),n(60)),d=n(19),O=n(1);var p=function(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(),i=Object(u.a)(r,2),j=i[0],o=i[1];return Object(c.useEffect)((function(){fetch("https://api.spotify.com/v1/search?q=".concat(e.currentTrack.name,"&type=track&q=").concat(e.currentTrack.artists,"&type=artist&limit=1"),{method:"GET",headers:{Authorization:"Bearer "+e.token}}).then((function(e){return e.json()})).then((function(e){a(e.tracks.items[0]),console.log(e.tracks.items[0]),console.log(e.tracks.items[0].album.images)}))}),[]),Object(c.useEffect)((function(){fetch("https://corsanywhere.herokuapp.com/https://melon.danielko.me/api/v1/lyric/".concat(e.currentTrack.songId),{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(e){o(e.lyric.split("\n"))}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("style",{type:"text/css"}),Object(O.jsxs)("div",{className:"main-card-container",children:[s&&Object(O.jsxs)(d.a,{className:"bg-dark text-white mx-auto p-2",children:[Object(O.jsx)(d.a.Img,{variant:"top",src:s.album.images[0].url,alt:e.currentTrack.name}),Object(O.jsxs)(d.a.Body,{children:[Object(O.jsx)(d.a.Title,{children:e.currentTrack.artists}),Object(O.jsx)(d.a.Text,{children:e.currentTrack.name})]})]}),j&&j.map((function(e){return Object(O.jsx)("p",{children:e})}))]}),s&&Object(O.jsx)(b.a,{token:e.token,uris:s.uri,showSaveIcon:!0,initialVolume:.3,playerPosition:"bottom",styles:{sliderColor:"blue",sliderHeight:"10px"}})]})};var x=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("header",{className:"App-header",children:Object(O.jsx)("a",{className:"btn-spotify",href:"/auth/login",children:"Login with Spotify"})})})},m=n(25),f=n(37),k=n(41),g=n(24),y=function(e){var t=Object(c.useState)(),n=Object(u.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){fetch("https://corsanywhere.herokuapp.com/https://melon.danielko.me/api/v1/chart/live",{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(e){var t=Object.entries(e).map((function(e){return e[1]}));a(t)}))}),[]),console.log(s),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(f.a,{fluid:"sm, md, lg",children:[Object(O.jsx)(d.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(g.a,{xs:3,md:!0,lg:1,children:"Ranking"}),Object(O.jsx)(g.a,{xs:6,md:6,lg:3,children:"Song Name"}),Object(O.jsx)(g.a,{xs:3,children:"Artist"})]})}),s&&s.map((function(t){return Object(O.jsx)(d.a,{children:Object(O.jsx)(m.b,{to:"/songs/"+t.name,onClick:function(){e.handleOnClick(t)},children:Object(O.jsx)(d.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsxs)(g.a,{xs:3,md:!0,lg:1,children:[t.ranking,"."]}),Object(O.jsx)(g.a,{xs:6,md:6,lg:3,children:t.name}),Object(O.jsx)(g.a,{xs:3,children:t.artists})]})})},t.ranking)})}))]})})},v=n(33),w=n(43),T=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(w.a,{children:[Object(O.jsx)(w.a.Brand,{href:"/",children:"Top-100"}),Object(O.jsxs)(v.a,{className:"justify-content-end",children:[Object(O.jsx)(v.a.Link,{href:"/About",children:"About"}),Object(O.jsx)(v.a.Link,{href:"/Login",children:"Login"})]})]})})};var S=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),r=Object(u.a)(a,2),j=r[0],b=r[1],d=function(e){b(e)};return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/token");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.access_token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(T,{}),Object(O.jsxs)("main",{children:[Object(O.jsx)(h.a,{path:"/",exact:!0,render:function(e){return Object(O.jsx)(y,Object(i.a)(Object(i.a)({},e),{},{handleOnClick:d}))}}),Object(O.jsx)(h.a,{path:"/Login",component:x}),Object(O.jsx)(h.a,{path:"/songs/:song",render:function(e){return Object(O.jsx)(p,Object(i.a)(Object(i.a)({},e),{},{currentTrack:j,token:n}))}})]})]})})};n(80),n(81),n(82);r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(S,{})})}),document.getElementById("root"))},67:function(e,t,n){},68:function(e,t,n){},80:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.5f72a563.chunk.js.map